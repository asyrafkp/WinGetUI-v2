<Window x:Class="WinGetUI.Views.SourceManagementWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Package Source Management" Height="500" Width="800"
        WindowStartupLocation="CenterOwner"
        Background="{DynamicResource BackgroundBrush}">
    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Title -->
        <TextBlock Grid.Row="0" Text="Manage Package Sources" 
                   FontSize="20" FontWeight="SemiBold" 
                   Margin="0,0,0,15"/>

        <!-- Toolbar -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,0,0,10">
            <Button x:Name="RefreshButton" Content="ðŸ”„ Refresh" 
                    Width="100" Height="32" Margin="0,0,5,0"
                    Click="RefreshButton_Click"
                    Background="{DynamicResource SecondaryBrush}" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1"/>
            <Button x:Name="AddButton" Content="âž• Add Source" 
                    Width="120" Height="32" Margin="0,0,5,0"
                    Click="AddButton_Click"
                    Background="{DynamicResource SuccessStatusBrush}" Foreground="White" BorderThickness="0"/>
            <Button x:Name="EditButton" Content="âœï¸ Edit" 
                    Width="100" Height="32" Margin="0,0,5,0"
                    Click="EditButton_Click"
                    Background="{DynamicResource SecondaryBrush}" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1"
                    IsEnabled="False"/>
            <Button x:Name="RemoveButton" Content="ðŸ—‘ï¸ Remove" 
                    Width="100" Height="32" Margin="0,0,5,0"
                    Click="RemoveButton_Click"
                    Background="{DynamicResource ErrorStatusBrush}" Foreground="White" BorderThickness="0"
                    IsEnabled="False"/>
            <Button x:Name="ResetButton" Content="ðŸ”„ Reset" 
                    Width="100" Height="32"
                    Click="ResetButton_Click"
                    Background="{DynamicResource SecondaryBrush}" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1"
                    IsEnabled="False"/>
        </StackPanel>

        <!-- DataGrid -->
        <Border Grid.Row="2" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1" Background="{DynamicResource SecondaryBrush}">
            <DataGrid x:Name="SourcesGrid" 
                      AutoGenerateColumns="False"
                      SelectionMode="Single"
                      CanUserAddRows="False"
                      CanUserDeleteRows="False"
                      CanUserResizeRows="False"
                      HeadersVisibility="Column"
                      GridLinesVisibility="Horizontal"
                      HorizontalGridLinesBrush="{DynamicResource BorderBrush}"
                      AlternatingRowBackground="{DynamicResource DataGridAlternatingBrush}"
                      SelectionChanged="SourcesGrid_SelectionChanged">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Name" Binding="{Binding Name}" Width="150" IsReadOnly="True"/>
                    <DataGridTextColumn Header="Argument/URL" Binding="{Binding Argument}" Width="*" IsReadOnly="True"/>
                    <DataGridTextColumn Header="Type" Binding="{Binding Type}" Width="200" IsReadOnly="True"/>
                    <DataGridCheckBoxColumn Header="Default" Binding="{Binding IsDefault}" Width="80" IsReadOnly="True"/>
                </DataGrid.Columns>
            </DataGrid>
        </Border>

        <!-- Status and Close -->
        <Grid Grid.Row="3" Margin="0,10,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            
            <TextBlock x:Name="StatusText" Grid.Column="0" 
                       Text="Ready" 
                       VerticalAlignment="Center"
                       Foreground="{DynamicResource DimTextBrush}"/>
            
            <Button x:Name="CloseButton" Grid.Column="1" 
                    Content="Close" 
                    Width="100" Height="32"
                    Click="CloseButton_Click"
                    Background="{DynamicResource SecondaryBrush}" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1"/>
        </Grid>
    </Grid>
</Window>
